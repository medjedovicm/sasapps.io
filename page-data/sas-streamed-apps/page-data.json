{"componentChunkName":"component---src-templates-template-tsx","path":"/sas-streamed-apps","result":{"data":{"site":{"meta":{"title":"SAS Apps - Unleash Your Analytics","description":"Custom Interfaces to the world's most powerful Analytics Platform","siteUrl":"https://sasapps.io","author":"Allan Bowe","twitter":"","adsense":""}},"post":{"id":"1aa877c0-9607-5c8c-b7d5-f4c5c7060d53","html":"<p>SAS Streamed Apps are served directly from the SAS logical folder tree - ie SAS Drive in Viya or the Metadata BIP folder in SAS 9.  This is highly convenient - there’s no need for web server access, nor even a filesystem, and they can be deployed easily in a few lines of code.</p>\n<p>This article will demonstrate the concept of a SAS-Streamed app using a Nintendo classic - Super Mario.  The app will work on both SAS 9 or Viya.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; margin-bottom: 1.0725rem;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 97.8723404255319%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAADdUlEQVQ4y5WUz28UZRjHN/EgMTE2KCp4IeHgwXgwYGKzmLjdXxQjhkTlQAWMSIF2f87Mzu7O7rK0wXYpIKWhQsvBg7RiPNVDaWOI/4GJJ24cFNC2LjRlNXR358PzznR/FNDEwzfv877P837n+32emfEEwiH8oSBdwYADfyhAIBx00DhXZ618EF/AT+dO7zq84/Xy1g4vnmvTf3Nt6v/ju6sVF1MVpr+t8MP3FZaWKni0KCT6INnfQuIxJCPr10RbrTqLH4esDsv3wWOlbDKGTbYNllFr20MqUSetr8gKqr69Niv7tGZzMm9TLtt41IW0BhldwXZiPemeqVyyv87U1b+4s1jm9JcLGHG3zq13YSZtihbcK9NO6JJl9Trnc7/KWnWKjbjN6Og9ZuaWOFsqo8dqcl53ckqZumeKgKJVE8L6UwjF7kTxhhCuNpXr0ufYsaqQieWs1KTUnXrTlUv4UAirT7dsKMvNvatC1Sn0fZAnevBnsmaL9D8tu/2RQiFySDXXmtsOOOT/jKP7Z7AcwlqbQlsI7ScJG4raH5Bea77KKWUZo1HXGMq/ETqKpFCruqraiNLJ6hoeClbd2FHYsGw/bpmmTdNs26sHqP5l3IFYmVbsqG1afqKH8vJKnIneYXBPCLP/lrtX+WO/oIV9HN7pIxoME+kKStxJ6qOkK2C9wsYkay5BbJH8JzrpyG8y1bpDmDp+k77dRzgQiNDb3c8XuyIc9B8m9vEZJ98ilB5ahjtJpbTRR1Pes4lIlqJ+G1OjZTnTspxT9tM4QtYNxUg8QIutCJblq1glK0lTq/D50TPE++6SUw/Qqs2hmM5AbIyYvOjRB2SS6luvcaJBWPjRS+H6mxTmX8ea3othVOjVJtk2sIGtxe3EU3+QT7lfhyXIKVXqJ3GlgDWzg5Sx4LgbKKwNZVzfwsX4Rsb1zYzFN1Hav50LB95g5NNt5Hpf4lTP21zo+ZDRnt2c69kjcbes7zMW2cxFrYNzhzr5at8uxo/sY3lxAc+w/zWG3u2g5HuVId8rDHc9x9nuTZzq6mAs9DKloOSCzzIS2sBQ6HlGAs8wHH6B0nsbBSIg/CLDPg/n927h/p+/45m/MsD1y3nmJ08wN1lk9usCP02eZPaS7OV8bmKAuUtF5i8XJR6UuCC1g3JH1om8E8+O57nxzWn+WVnmEcUoVOx8EedoAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mario\"\n        title=\"mario\"\n        src=\"/static/22305492b67e7dfe7d27801ca0ec182e/1d69c/mario.png\"\n        srcset=\"/static/22305492b67e7dfe7d27801ca0ec182e/4dcb9/mario.png 188w,\n/static/22305492b67e7dfe7d27801ca0ec182e/5ff7e/mario.png 375w,\n/static/22305492b67e7dfe7d27801ca0ec182e/1d69c/mario.png 750w,\n/static/22305492b67e7dfe7d27801ca0ec182e/78797/mario.png 1125w,\n/static/22305492b67e7dfe7d27801ca0ec182e/aa440/mario.png 1500w,\n/static/22305492b67e7dfe7d27801ca0ec182e/3faba/mario.png 1625w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>Before we begin - lets take a look at some of the <em>disadvantages</em> of SAS-Streamed apps:</p>\n<ul>\n<li>Performance.  Because every asset is served from the SAS folder tree (App Server), response times are slow.  However, assets are also cached so subsequent requests are fast.</li>\n<li>Complexity.  In order to ‘convert’ a regular app into a streamed app, there is a compilation process.  It works well but it’s not 100% perfect (yet).</li>\n</ul>\n<p>The main reasons for using this approach would be:</p>\n<ul>\n<li>You don’t have web server access</li>\n<li>You would like to create apps that can be <em>very</em> easily deployed</li>\n</ul>\n<p>Right - lets get started!</p>\n<h2> Prerequisites</h2>\n<p>Our demo will make use of the tools below - these need to be installed locally (on your desktop / laptop).</p>\n<ul>\n<li><a href=\"https://sasjs.io/windows/#git\">GIT</a></li>\n<li>The <a href=\"https://cli.sasjs.io/installation\">SASjs CLI</a></li>\n<li><a href=\"https://sasjs.io/windows/#vscode\">VS Code</a> (optional - but recommended)</li>\n</ul>\n<h2>Setup</h2>\n<p>The first thing to do is clone the <a href=\"https://github.com/sasjs/mario\">example project</a> from github, as follows:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git clone git@github.com:sasjs/mario.git\ncd mario</code></pre></div>\n<p>The next step is configuration.  This is always found in the <code class=\"language-text\">sasjs/sasjsconfig.json</code> file.  The following items should be changed:</p>\n<ul>\n<li><code class=\"language-text\">defaultTarget</code> - either “sas9” or “viya” depending on your SAS server type</li>\n<li><code class=\"language-text\">appLoc</code> - for your chosen target (sas9 or viya), this represents the <em>root</em> folder to which the app is deployed.</li>\n</ul>\n<h2>Compilation</h2>\n<p>Compilation is the process of taking all the source files (ie your web frontend, and any SAS-powered web services) and preparing them for deployment.  For SAS 9, all content is served through self-contained Stored Processes - so any binary content must be base-64 encoded.  Also, prior to the build for both Viya and SAS 9, all file references (eg to images, css, js etc) must be converted from relative paths, to fully qualified paths - ie to the relevant location in the SAS logical folder tree.</p>\n<p>Fortunately you don’t have to do any of this!  It can be achieved with a single command:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sasjs compile</code></pre></div>\n<p>The exact settings for this process (source / target folder path, index.html rename, etc) can all be adjusted.  More information <a href=\"https://sasjs.io/frontend-deployment/#streaming-app-configuration\">here</a>.</p>\n<p>For the Mario game you can see all the files under the <code class=\"language-text\">src</code> folder.  If you are building your own streamed app, you’d place your own content in this folder instead.  Ensure all file paths are relative, all web content is in the same folder, and that your app starts from a file called <code class=\"language-text\">index.html</code>.</p>\n<h2>Build</h2>\n<p>The build part involves taking all the compiled assets and preparing a single file for deployment.  Two file types are always prepared:</p>\n<ul>\n<li>JSON - used in Viya for deployment with REST APIs (client/secret required)</li>\n<li>SAS - can be executed in both SAS 9 and Viya</li>\n</ul>\n<p>The great thing about the generated SAS program is that it can be executed by ANY user of SAS to create the app.  To adjust the target location, simply configure the <code class=\"language-text\">appLoc</code> macro variable at the start of the program, eg:</p>\n<div class=\"gatsby-highlight\" data-language=\"sas\"><pre class=\"language-sas\"><code class=\"language-sas\"><span class=\"token macro-keyword keyword\">%let</span> apploc<span class=\"token operator\">=</span><span class=\"token operator\">/</span>folder<span class=\"token operator\">-</span>location<span class=\"token operator\">/</span>app<span class=\"token operator\">/</span>my_amazing_app<span class=\"token punctuation\">;</span></code></pre></div>\n<p>This does require that you have the “write” permissions on the target folder.</p>\n<h2>Deploy</h2>\n<p>For manual deployment, you can just execute the aforementioned SAS program from <code class=\"language-text\">sasjs build</code> by copy pasting into SAS Studio or Enterprise Guide.  For automated deployment, authentication is required.  For this, simply run the below and follow the prompts:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sasjs auth</code></pre></div>\n<p>If you are deploying to Viya, you will need a Client and Secret.  If you are deploying to SAS 9, you will need a runner in your home folder.  If you’d like to use SAS encoded passwords, there is also a server change required.  For more information, see docs for <a href=\"https://cli.sasjs.io/auth\">sasjs auth</a>.</p>\n<p>Once you’re authenticated, you’re ready to auto-deploy!</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sasjs deploy</code></pre></div>\n<p>When the <code class=\"language-text\">deployServicePack</code> attribute in the <code class=\"language-text\">sasjsconfig.json</code> file is <code class=\"language-text\">true</code>, the above command will deploy all the services using either the JSON file (if Viya) or the SAS program (if SAS 9).</p>\n<p>The URL for the app will also be printed to the console window.</p>\n<h2>Video Walkthrough</h2>\n<p>If you’d like to see this app deployed to both SAS 9 and Viya in just 5 minutes, check out the video below!</p>\n<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.53333333333334%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <div class=\"embedVideo-container\"> <iframe title=\"\" src=\"https://www.youtube.com/embed/y03eACD-XhU?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" allowfullscreen=\"\"></iframe> </div> </div></p>\n<h2>Summary</h2>\n<p>In this walkthrough we installed some prerequisites, cloned an open source GIT repo, and deployed to our SAS server.  The compile/build/deploy process will work for almost any SAS app, and is optimised for macro-driven SAS web services also.</p>\n<p>If you’d like to support building web apps on SAS, and especially if you’d like to partner with us on a project to deliver apps on SAS, do <a href=\"/contact\">get in touch</a>!</p>","frontmatter":{"title":"SAS Streamed Apps","featuredImage":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAADdUlEQVQ4y5WUz28UZRjHN/EgMTE2KCp4IeHgwXgwYGKzmLjdXxQjhkTlQAWMSIF2f87Mzu7O7rK0wXYpIKWhQsvBg7RiPNVDaWOI/4GJJ24cFNC2LjRlNXR358PzznR/FNDEwzfv877P837n+32emfEEwiH8oSBdwYADfyhAIBx00DhXZ618EF/AT+dO7zq84/Xy1g4vnmvTf3Nt6v/ju6sVF1MVpr+t8MP3FZaWKni0KCT6INnfQuIxJCPr10RbrTqLH4esDsv3wWOlbDKGTbYNllFr20MqUSetr8gKqr69Niv7tGZzMm9TLtt41IW0BhldwXZiPemeqVyyv87U1b+4s1jm9JcLGHG3zq13YSZtihbcK9NO6JJl9Trnc7/KWnWKjbjN6Og9ZuaWOFsqo8dqcl53ckqZumeKgKJVE8L6UwjF7kTxhhCuNpXr0ufYsaqQieWs1KTUnXrTlUv4UAirT7dsKMvNvatC1Sn0fZAnevBnsmaL9D8tu/2RQiFySDXXmtsOOOT/jKP7Z7AcwlqbQlsI7ScJG4raH5Bea77KKWUZo1HXGMq/ETqKpFCruqraiNLJ6hoeClbd2FHYsGw/bpmmTdNs26sHqP5l3IFYmVbsqG1afqKH8vJKnIneYXBPCLP/lrtX+WO/oIV9HN7pIxoME+kKStxJ6qOkK2C9wsYkay5BbJH8JzrpyG8y1bpDmDp+k77dRzgQiNDb3c8XuyIc9B8m9vEZJ98ilB5ahjtJpbTRR1Pes4lIlqJ+G1OjZTnTspxT9tM4QtYNxUg8QIutCJblq1glK0lTq/D50TPE++6SUw/Qqs2hmM5AbIyYvOjRB2SS6luvcaJBWPjRS+H6mxTmX8ea3othVOjVJtk2sIGtxe3EU3+QT7lfhyXIKVXqJ3GlgDWzg5Sx4LgbKKwNZVzfwsX4Rsb1zYzFN1Hav50LB95g5NNt5Hpf4lTP21zo+ZDRnt2c69kjcbes7zMW2cxFrYNzhzr5at8uxo/sY3lxAc+w/zWG3u2g5HuVId8rDHc9x9nuTZzq6mAs9DKloOSCzzIS2sBQ6HlGAs8wHH6B0nsbBSIg/CLDPg/n927h/p+/45m/MsD1y3nmJ08wN1lk9usCP02eZPaS7OV8bmKAuUtF5i8XJR6UuCC1g3JH1om8E8+O57nxzWn+WVnmEcUoVOx8EedoAAAAAElFTkSuQmCC","width":400,"height":391,"src":"/static/22305492b67e7dfe7d27801ca0ec182e/497c6/mario.png","srcSet":"/static/22305492b67e7dfe7d27801ca0ec182e/497c6/mario.png 1x,\n/static/22305492b67e7dfe7d27801ca0ec182e/2a4de/mario.png 1.5x,\n/static/22305492b67e7dfe7d27801ca0ec182e/ee604/mario.png 2x"}}},"path":"/sas-streamed-apps","category":"SASjs","tags":["SAS","Apps","SASjs"],"description":"SAS Streamed Web Apps - SAS Apps, without the Web Server!","date":"2021/02/19"}}},"pageContext":{}}}